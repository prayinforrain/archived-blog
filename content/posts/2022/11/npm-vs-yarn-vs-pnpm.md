---
title: "npm vs yarn vs pnpm"
date: 2022-11-18T16:42:55+09:00
lastmod: 2022-11-18T16:42:55+09:00
draft: false
categories: ["moheyum", "Node.js"]
tags: ["moheyum", "yarn", "npm", "pnpm"]
---

ì§€ê¸ˆê¹Œì§€ ì €ëŠ” ì•„ë¬´ ì˜ì‹¬ ì—†ì´ npmì„ ì‚¬ìš©í•´ì™”ìŠµë‹ˆë‹¤. ì´ë”°ê¸ˆì”© `node_modules` í´ë”ê°€ ì €ë¥¼ ê³ í†µìŠ¤ëŸ½ê²Œ í–ˆë˜ ì‹œê°„ë“¤ì´ ìˆì—ˆì§€ë§Œ, í”„ë¡œì íŠ¸ ì´ˆê¸°í™”ì— ì •ë§ ì´ìƒí•œ í–‰ë™ë§Œ í•˜ì§€ ì•Šìœ¼ë©´ `npm i` í•œ ì¤„ê³¼ ì»¤í”¼ í•œ ì”ìœ¼ë¡œ ëª¨ë“ ê²Œ ë¬¸ì œ ì—†ì´ ë™ì‘í–ˆìœ¼ë‹ˆê¹Œìš”. í•˜ì§€ë§Œ ìš°ë¦¬ëŠ” ìŠ¬ë™ì˜ ì–´ë–¤ ë¶„ì„ í†µí•´, npmë³´ë‹¤ ì¢‹ì€ ë°©ë²•ì´ ìˆìŒì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” `yarn`ê³¼ `pnpm`ì„ ì²´í—˜í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

# ğŸ¤· TL;DR

- npmì˜ ì˜ì¡´ì„± ê´€ë¦¬ëŠ” ì‚¬ì‹¤ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤.
- ì´ ë¬¸ì œë¥¼ ë³´ì™„í•œ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ê°€ yarn, pnpmì´ë‹¤.
- ê° íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ë§¤ìš° ì‰½ë‹¤. ê¸ì •ì ìœ¼ë¡œ ê³ ë ¤í•´ë³´ì.

# ğŸ npm

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_01.png)

ìš°ì„  npmì…ë‹ˆë‹¤. npmì— ëŒ€í•´ ë” í•  ì´ì•¼ê¸°ëŠ” ì—†ì§€ë§Œ, ìš°ì„  ë¹„êµë¥¼ í•˜ê¸° ìœ„í•´ ê¸°ì¤€ì´ ë  í”„ë¡œì íŠ¸ì˜ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰ê¹Œì§€ ì§„í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œ ì‹¤í—˜í•  í”„ë¡œì íŠ¸ëŠ” ì œê°€ ê°œì¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” React boilerplateì…ë‹ˆë‹¤. ì–´ë–¤ ê²ƒë“¤ì„ í¬í•¨í•˜ëŠ”ì§€ëŠ” [ë ˆí¬ì§€í† ë¦¬ì˜ README.md](https://github.com/prayinforrain/ReactTS_Boilerplate_v2)ë¥¼ ì°¸ê³ í•´ ì£¼ì„¸ìš”.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_02.png)

ì„¤ì¹˜ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ëŒ€ë¡œ `package.json`ì— ì •ì˜ëœ dev ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë¦¬ì•¡íŠ¸ ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_03.png)

ë¬´ë‚œí•˜ê²Œ ì§„í–‰ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

# ğŸˆ Yarn

Yarnì˜ ê°€ì¥ í° íŠ¹ì§•ì€, ë¹„êµì  ìµœê·¼ì— ë‚˜ì˜¨ ë²„ì „ì¸ Yarn berryì˜ PnP ì „ëµì„ í†µí•œ íŒŒì¼ ê´€ë¦¬ì…ë‹ˆë‹¤. npmì€ ê¸°ë³¸ì ìœ¼ë¡œ íŒ¨í‚¤ì§€ A, Bê°€ Cë¥¼ ì°¸ì¡°í•œë‹¤ë©´ í”„ë¡œì íŠ¸ê°€ Cë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•´ë„ Cë¥¼ `node_modules` ë””ë ‰í† ë¦¬ ìµœìƒìœ„ë¡œ í˜¸ì´ìŠ¤íŒ…í•˜ì—¬ ìµœì í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ë•Œ A, Bê°€ ì°¸ì¡°í•˜ëŠ” Cì˜ ë²„ì „ì´ ë‹¤ë¥´ë‹¤ë©´ ë‘ ë²„ì „ ì¤‘ í•˜ë‚˜ë§Œì´ í˜¸ì´ìŠ¤íŒ…ë˜ë©°, ì´í›„ í˜¸ì´ìŠ¤íŒ…ë˜ì§€ ì•Šì€ ë²„ì „ì„ ì°¸ì¡°í•˜ëŠ” íŒ¨í‚¤ì§€ê°€ ë§ì•„ì§€ë”ë¼ë„ ì´ êµ¬ì¡°ëŠ” ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¦‰ ì™„ì „í•œ ìµœì í™”ëŠ” ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë°˜ë©´ Yarn berryì—ì„œëŠ” íŒ¨í‚¤ì§€ì˜ ê° ë²„ì „ë§ˆë‹¤ í•˜ë‚˜ì˜ .zip íŒŒì¼ë¡œ ì„¤ì¹˜ë˜ê³ , ì•ì„œ ë§í•œ ì¤‘ë³µ ì„¤ì¹˜ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. .zip íŒŒì¼ë¡œ ì••ì¶•ë˜ë©´ì„œ ì–»ëŠ” ìš©ëŸ‰ ìƒì˜ ì´ì ë„ ì±™ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ì„¤ëª…ì€ [í† ìŠ¤ ê¸°ìˆ  ë¸”ë¡œê·¸](https://toss.tech/article/node-modules-and-yarn-berry)ë¥¼ ì½ì–´ë³´ì„¸ìš”!

ê·¸ëŸ¼ ì´ì œ [Yarn ê³µì‹ ë¬¸ì„œ](https://yarnpkg.com/getting-started/install)ì˜ ì„¤ëª…ì„ ë”°ë¼ì„œ ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤. NodeJSì˜ `Corepack` ê¸°ëŠ¥ì„ ì´ìš©í•´ì•¼ í•˜ëŠ” ëª¨ì–‘ì¸ë°, ë…¸ë“œ ë²„ì „ 16.10ì„ ê¸°ì¤€ìœ¼ë¡œ ì¶”ê°€ ì¡°ì¹˜ê°€ í•„ìš”í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì €ëŠ” NodeJS v16.16.0ì„ ì‚¬ìš©ì¤‘ì´ë¯€ë¡œ ë³„ë„ ì„¤ì¹˜ ì—†ì´ corepackì„ í™œì„±í™”í•˜ê² ìŠµë‹ˆë‹¤.

```tsx
corepack enable
corepack prepare yarn@3.2.4 --activate // yarn@stable ë„ ê°€ëŠ¥í•˜ë‹¤ê³  í•¨
yarn init -2
```

> ğŸ’¡ yarn init ë’¤ì˜ `-2` ë¼ëŠ” í”Œë˜ê·¸ê°€ [Zero-Installs](https://yarnpkg.com/features/zero-installs)ë¥¼ ìœ„í•œ í…œí”Œë¦¿ìœ¼ë¡œ ì´ˆê¸°í™”í•´ ì£¼ëŠ” ëª¨ì–‘ì¸ë°ìš”, Yarn2 (Berry)ì˜ ê°€ì¥ í° íŠ¹ì§• ì¤‘ í•˜ë‚˜ì¸ `node_modules`ë¥¼ ëŒ€ì²´í•˜ëŠ” PnP íŒ¨í‚¤ì§€ ê´€ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í•´ë‹¹ í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ì–‘ì…ë‹ˆë‹¤. `-2`ë¥¼ ë¹¼ê³  ì´ˆê¸°í™”í•´ë³´ë‹ˆ `node_modules` í´ë”ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë˜ë”ë¼êµ¬ìš”. Zero-Installsì— ëŒ€í•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://www.zigae.com/yarn2/)ì— ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.

npmìœ¼ë¡œ í–ˆë˜ ê²ƒì²˜ëŸ¼ boilerplate íŒŒì¼ì„ ë°©ê¸ˆ ì´ˆê¸°í™”í•œ yarn ë””ë ‰í† ë¦¬ì— ë³µì‚¬í•˜ê³  `yarn install`ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_04.png)

ë­”ê°€ ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ ê±°ì¹˜ëŠ” ë“¯í•œ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ë‹¤ê°€ ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. `.yarn/cache` ë””ë ‰í† ë¦¬ì— íŒ¨í‚¤ì§€ë“¤ì´ .zip íŒŒì¼ë¡œ ì••ì¶•ë˜ì–´ ë“¤ì–´ìˆë„¤ìš”.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_05.png)

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_06.png)

ìŒ, ê·¸ëŸ°ë° ì´ ìƒíƒœë¡œ ë°”ë¡œ ì„œë²„ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤. ESLint í”ŒëŸ¬ê·¸ì¸ë„ ì–´ë””ê°€ ë¶ˆí¸í•œì§€ ë¹„ëª…ì„ ì§€ë¥´ê³  ìˆêµ¬ìš”. ì´ìœ ëŠ” ëª¨ë¥´ê² ì§€ë§Œ `package.json`ì—ëŠ” ëª…ì‹œë˜ì§€ ì•Šì€ peer-dependency íŒ¨í‚¤ì§€ë“¤ì´ ë¹ ì ¸ ìˆì–´ì„œ ê·¸ëŸ° ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë‹¤í–‰íˆë„ `package.json`ì—ì„œ ìë™ì™„ì„±ê³¼ í•¨ê»˜ ë²„ì „ê¹Œì§€ ì•Œì•„ì„œ ì±„ì›Œì£¼ì–´ì„œ ì ë‹¹íˆ ì ì–´ì„œ `yarn install`ì„ ë‹¤ì‹œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. [ì´ ë¬¸ì œ](https://github.com/yarnpkg/yarn/issues/1503)ì— ëŒ€í•œ ì´ìŠˆë¥¼ ë°œê²¬í–ˆì§€ë§Œ ë‹µì„ êµ¬í•˜ì§€ ëª»í•˜ê³  ê²°êµ­ ì§ì ‘ í•˜ë‚˜ì”© ì„¤ì¹˜í•˜ëŠ” ì‹ìœ¼ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_07.png)

# ğŸ§Š pnpm

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_08.png)

[ê³µì‹ ë¬¸ì„œ](https://pnpm.io/ko/installation)ë¥¼ ì°¸ê³ í•˜ì˜€ê³ , yarnê³¼ ë³„ ì°¨ì´ ì—†ì´ corepackì„ í†µí•´ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. ëª…ë ¹ì–´ë§Œ ë³´ë©´ì„œ í–ˆëŠ”ë° ë¬¸ë“ ë³´ë‹ˆ ê³µì‹ ë¬¸ì„œê°€ ì˜ì–´ê°€ ë°˜, í•œêµ­ì–´ê°€ ë°˜ìœ¼ë¡œ ë˜ì–´ ìˆì—ˆë„¤ìš”. ìœ„ ì‚¬ì§„ì€ ê¸€ì„ ì½ì§€ ì•Šê³  ë¬´ì‘ì • ëª…ë ¹ì–´ ì‹¤í–‰í•˜ë©´ì„œ ì°ì€ ì‚¬ì§„ì¸ë°, Powershellì´ ë­”ê°€ í•´í•´í‚¹í‚¹ì´ì´ ë˜ë˜ã„´ëŠ” ê¸°ë¶„ì´ ë“¤ì–´ì„œ ì˜¬ë ¸ìŠµë‹ˆë‹¤.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_09.png)

`pnpm install`ì„ ì‹¤í–‰í•˜ë‹ˆ, peer dependency ì´ìŠˆì— ëŒ€í•œ ë©”ì‹œì§€ë¥¼ ë„ì›Œì¤ë‹ˆë‹¤. yarnì„ ì‚¬ìš©í–ˆì„ ë•Œì™€ ê°™ì€ ë¬¸ì œê°€ ìˆë„¤ìš”. [ì´ ë§í¬](https://stackoverflow.com/questions/70597494/pnpm-does-not-resolve-dependencies)ì—ì„œ ë‹µì„ ì°¾ì•„ `pnpm i --shamefully-hoist=true`ë¡œ ì„¤ì¹˜í•˜ë‹ˆ ì•Œì•„ì„œ í”¼ì–´ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë¥¼ ê°™ì´ ì„¤ì¹˜í•´ ì¤ë‹ˆë‹¤.

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_10.png)

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_11.png)

# ğŸ¤¨ ë­ê°€ ë‹¤ë¥¼ê¹Œìš”..?

![Untitled](/images/posts/2022/11/npm-vs-yarn-vs-pnpm/npm_vs_yarn_12.png)

ì‚¬ì‹¤ ì´ ì •ë„ í…ŒìŠ¤íŠ¸ë¡œ ì°¨ì´ë¥¼ ëŠë¼ê¸°ëŠ” ì–´ë µìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ì§§ì€ ì‹œê°„ë™ì•ˆ ê° íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì²´í—˜í•´ ë´¤ìœ¼ë‹ˆ, ê·¸ë‚˜ë§ˆ ëˆˆì— ë„ëŠ” ì°¨ì´ë¥¼ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

- `npm`ì€ **ë…ë³´ì ìœ¼ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜ê°€ ëŠë¦¬ê³ , ë¬´ê±°ì› ìŠµë‹ˆë‹¤**.
- `yarn`ì˜ **íŒ¨í‚¤ì§€ ìš©ëŸ‰ì´ ì •ë§ ê°€ë²¼ì› ìŠµë‹ˆë‹¤**. `pnpm`ì€ í”„ë¡œì íŠ¸ê°€ í¬ì§€ ì•Šê¸° ë•Œë¬¸ì¸ì§€, `npm`ê³¼ ëˆˆì— ë„ëŠ” ì°¨ì´ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤.
- `pnpm`ì€ **peer-dependency ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” í”Œë˜ê·¸**ë¥¼ ì§€ì›í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ì•˜ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ì œê°€ ê²ªì€ ë¬¸ì œê°€ ì¼ë°˜ì ì¸ ì¼€ì´ìŠ¤ëŠ” ì•„ë‹Œ ê²ƒ ê°™ê¸´ í•©ë‹ˆë‹¤.
- ê±±ì •ì´ ë§ì•˜ë˜ `ESLint`ëŠ” ì˜ì™¸ë¡œ ê¸ˆë°© ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤. ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ”ë°ëŠ” ë¬¸ì œê°€ ì—†ì„ ê²ƒì´ë‹¤, ë¼ëŠ” ìƒê°ì´ ë“­ë‹ˆë‹¤.

ë³´ì•ˆì´ë¼ë˜ì§€, ì„±ëŠ¥ì´ë¼ë˜ì§€ ë¹„êµë¥¼ í•  ìˆ˜ ìˆìœ¼ë©´ ì¢‹ê² ì§€ë§Œ, ì œ ì‹¤í—˜ìš© í”„ë¡œì íŠ¸ì—ì„œëŠ” ìœ ì˜ë¯¸í•œ ì°¨ì´ë¥¼ ë³´ì´ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‹¤ë§Œ `package.json`ì— ì •ì˜ëœ npm scriptsë¥¼ ë¬¸ì œì—†ì´ ì‹¤í–‰í•´ ì¤€ë‹¤ëŠ” ì ì´ ì¸ìƒ ê¹Šì—ˆìŠµë‹ˆë‹¤. javascriptì—ì„œ typescriptë¡œ ì˜®ê²¨ê°ˆ ë•Œë³´ë‹¤ í›¨ì”¬ ì¹œì ˆí•˜ë„¤ìš”.

# ğŸ“– Refs.

[https://github.com/yarnpkg/yarn/issues/1503](https://github.com/yarnpkg/yarn/issues/1503)  
[node_modulesë¡œë¶€í„° ìš°ë¦¬ë¥¼ êµ¬ì›í•´ ì¤„ Yarn Berry](https://toss.tech/article/node-modules-and-yarn-berry)  
[pnpm does not resolve dependencies](https://stackoverflow.com/questions/70597494/pnpm-does-not-resolve-dependencies)  
[[ë²ˆì—­] JavaScript íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ë¹„êµ - npm, Yarn ë˜ëŠ” pnpm?](https://velog.io/@dev_boku/JavaScript-%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%A7%A4%EB%8B%88%EC%A0%80-%EB%B9%84%EA%B5%90-npm-Yarn-%EB%98%90%EB%8A%94-pnpm#%EC%84%B1%EB%8A%A5-%EB%B0%8F-%EB%94%94%EC%8A%A4%ED%81%AC-%EA%B3%B5%EA%B0%84-%ED%9A%A8%EC%9C%A8%EC%84%B1)  
[npm, yarn, pnpm ë¹„êµí•´ë³´ê¸°](https://yceffort.kr/2022/05/npm-vs-yarn-vs-pnpm#%EA%B2%B0%EB%A1%A0)  
[ì„¤ì¹˜í•˜ê¸° | pnpm](https://pnpm.io/ko/installation)  
[Installation](https://yarnpkg.com/getting-started/install)  
[yarn berry(yarn2) ë§ˆì´ê·¸ë ˆì´ì…˜ ë°©ë²•](https://www.zigae.com/yarn2/)  
[yarn berryë¡œ React.js í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸° | Kasterra's Archive](https://kasterra.github.io/setting-yarn-berry/)  
ê·¸ë¦¬ê³  ë¶€ìŠ¤íŠ¸ ì»¨í¼ëŸ°ìŠ¤ í…Œí¬í†¡ì—ì„œ ë©‹ì§„ ë°œí‘œë¥¼ í•´ ì£¼ì‹  **J166 ì´íœ˜ì°¬** ìº í¼ë‹˜ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤ ğŸ™‡
