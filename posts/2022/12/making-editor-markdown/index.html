<!doctype html><html lang=ko><head><meta charset=utf-8><meta http-equiv=content-type content="text/html"><meta name=viewport content="width=device-width,initial-scale=1"><title itemprop=name>마크다운 만들기 - Markdown [3/3] | PrayinForRain.dev</title><meta property="og:title" content="마크다운 만들기 - Markdown [3/3] | PrayinForRain.dev"><meta name=twitter:title content="마크다운 만들기 - Markdown [3/3] | PrayinForRain.dev"><meta itemprop=name content="마크다운 만들기 - Markdown [3/3] | PrayinForRain.dev"><meta name=application-name content="마크다운 만들기 - Markdown [3/3] | PrayinForRain.dev"><meta property="og:site_name" content="PrayinforRain.dev"><meta name=description content="Dev blog of PrayinForRain, a KR frontend engineer"><meta itemprop=description content="Dev blog of PrayinForRain, a KR frontend engineer"><meta property="og:description" content="Dev blog of PrayinForRain, a KR frontend engineer"><meta name=twitter:description content="Dev blog of PrayinForRain, a KR frontend engineer"><meta property="og:locale" content="ko"><meta name=language content="ko"><meta itemprop=image content="https://prayinforrain.github.io/"><meta property="og:image" content="https://prayinforrain.github.io/"><meta name=twitter:image content="https://prayinforrain.github.io/"><meta name=twitter:image:src content="https://prayinforrain.github.io/"><meta property="og:type" content="article"><meta property="og:article:published_time" content="2022-12-05T13:18:55+0900"><meta property="article:published_time" content="2022-12-05T13:18:55+0900"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"마크다운 만들기 - Markdown [3/3]","author":{"@type":"Person","name":""},"datePublished":"2022-12-05","description":"","wordCount":649,"mainEntityOfPage":"True","dateModified":"2022-12-05","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"PrayinForRain.dev"}}</script><meta name=generator content="Hugo 0.111.3"><link rel=canonical href=https://prayinforrain.github.io/posts/2022/12/making-editor-markdown/><link href=/sass/main.min.27a708191572429134de748f5feceb8925c9beeb7bb0dd559b95db978cb12f9d.css rel=stylesheet><link href=/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/images/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon/favicon-16x16.png><link rel=manifest href=/images/favicon/site.webmanifest><link rel=mask-icon href=/images/favicon/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=/images/favicon/favicon.ico><meta name=msapplication-TileColor content="#2b5797"><meta name=msapplication-config content="/images/favicon/browserconfig.xml"><meta name=theme-color content="#ffffff"><link rel=icon type=image/svg+xml href=/images/favicon/favicon.svg></head><body data-theme=light class=notransition><script src=https://prayinforrain.github.io/js/themeLoader.min.fe2d3ab854403d53528fe10728c59913f3c42213733cee4310332048995e6bf5.js></script><div class=navbar role=navigation><nav class=menu aria-label="Main Navigation"><a href=/ class=logo><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><title>Home</title><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></a><input type=checkbox id=menu-trigger class=menu-trigger>
<label for=menu-trigger><span class=menu-icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentcolor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7H3.40726"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M.5 12.5V1.5c0-.552285.447715-1 1-1h11C13.0523.5 13.5.947715 13.5 1.5v11C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C.947715 13.5.5 13.0523.5 12.5z"/></svg></span></label><div class=trigger><ul class=trigger-container><li><a class=menu-link href=/>Home</a></li><li><a class="menu-link active" href=/posts/>Posts</a></li><li><a class=menu-link href=/tags/>Tags</a></li><li><a class=menu-link href=/about/>About</a></li><li class=menu-separator><span>|</span></li></ul><a id=mode href=#><svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg></a></div></nav></div><div class="wrapper post"><main class=page-content aria-label=Content><article><header class=header><h1 class=header-title>마크다운 만들기 - Markdown [3/3]</h1><div class=post-meta><time datetime=2022-12-05T13:18:55+09:00 itemprop=datePublished>2022. 12. 5.</time></div></header><div class=page-content><p><strong>모헤윰</strong>의 에디터 만들기 시리즈 모아보기<br><a href=https://prayinforrain.github.io/posts/2022/11/making-editor-contenteditable/>에디터 만들기 - ContentEditable [1/3]</a><br><a href=https://prayinforrain.github.io/posts/2022/11/making-editor-getselection/>에디터 만들기 - getSelection [2/3]</a><br><a href=https://prayinforrain.github.io/posts/2022/12/making-editor-markdown/>에디터 만들기 - Markdown [3/3]</a></p><hr><p>마지막입니다. 입력하고, 게시할 수 있게 되었으니, 이제 남은 일은 서식을 적용하는 것 뿐입니다. 마크다운 문법을 이용해 어떻게 서식을 적용할 수 있을까요? 그 과정을 정리해 보겠습니다.</p><h1 id=-어떻게-할까요>🤷 어떻게 할까요?</h1><p>정말이지 어떻게 하면 좋을까요? 우선 제가 생각하는 가장 사용성이 좋은 마크다운은 깃허브의 그것이였습니다. <a href=https://github.github.com/gfm/>GFM(GitHub Flavored Markdown)</a>이라고 부르는 스펙이 있는데, 처음에는 이걸 부르는 이름이 있는 것조차 모르고 막무가내로 리버스 엔지니어링 마인드로 작업을 시작했습니다. 아래 사진처럼 아무 이슈나 들어가서 댓글 창에 실험을 하면서요.</p><p><img src=/images/posts/2022/12/making-editor-markdown/md_editor_3_01.png alt=Untitled></p><p>원래대로라면 입력을 토큰으로 분해하고, <code>Parse tree</code>를 구성하여야 겠지만, 마크다운이 느슨한 언어이기 때문에 토큰으로 분해하는 과정이 지나치게 어려울 것이라 판단하여 쉬운 길을 선택하기로 했습니다. 그래서 <code>자주 쓸 법한 마크다운 몇 가지만 적용할 수 있게 하면 되겠지?</code> 하는 생각으로 깃허브를 열어서 아무 텍스트를 마구 입력해 보기 시작했습니다. 가벼운 마음으로요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=line><span class=cl><span class=kd>function</span> <span class=nx>headers</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/^### ([\S ]+)$/gm</span><span class=p>,</span> <span class=s2>&#34;&lt;h3&gt;$1&lt;/h3&gt;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>result</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/^## ([\S ]+)$/gm</span><span class=p>,</span> <span class=s2>&#34;&lt;h2&gt;$1&lt;/h2&gt;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>result</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/^# ([\S ]+)$/gm</span><span class=p>,</span> <span class=s2>&#34;&lt;h1&gt;$1&lt;/h1&gt;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>code</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/`([\S\n][^`\n]+)`/gm</span><span class=p>,</span> <span class=s2>&#34;&lt;code&gt;$1&lt;/code&gt;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>divideLines</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/^[\n]?([\S ]*)$[\n]?/gm</span><span class=p>,</span> <span class=s2>&#34;&lt;div&gt;$1&lt;/div&gt;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>doParse</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>headers</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>code</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>divideLines</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><img src=/images/posts/2022/12/making-editor-markdown/md_editor_3_02.png alt=Untitled></p><p>그렇게 만들어진 것이 저번 포스트의 마지막 사진입니다. 대충 이런 느낌으로 replace를 쌓아 나가면 되지 않을까요?</p><h1 id=-뭐든-계획을-세우자>📝 뭐든 계획을 세우자</h1><p>하지만 마크다운의 세계는 그렇게 만만하지 않았습니다. <code>replace</code>를 쌓아 나간다는 생각에는 변함이 없었지만 여러 줄에 걸친 문법이나 같은 식별자를 사용하는 문법을 어떻게 구별할 것인지와 같은 각종 예외 상황들을 어떻게 피해서 설계할 수 있을지 머리가 아파오기 시작했습니다. 특히 인용문은 아래처럼 다양한 경우에 대한 처리가 필요했죠.</p><p><img src=/images/posts/2022/12/making-editor-markdown/md_editor_3_03.png alt=Untitled></p><p>이런 복잡한 경우에 대한 해답을 매 번 깃허브에 직접 입력해 보면서 결과를 맞춰 튜닝을 하느니, 차라리 처음부터 체계를 잡고 가자는 생각이 들어 <a href=https://github.github.com/gfm/>GFM 스펙 문서</a>를 읽으며 문법들을 정리하기 시작했습니다.</p><p><img src=/images/posts/2022/12/making-editor-markdown/md_editor_3_04.png alt=Untitled></p><p>결과적으로 마크다운 문법은 크게 아래와 같이 분류할 수 있었습니다.</p><ul><li>줄 전체에 적용되는 <code>Block</code> 문법과 줄의 일부분에만 적용되는 <code>Inline</code> 문법이 존재합니다.</li><li><code>Block</code> 문법은 부분적으로 <code>Inline</code> 문법을 포함할 수 있습니다.</li><li><code>Block</code> 문법 역시 다른 <code>Block</code>을 포함할 수 있는 <code>Container Blocks</code>와 그렇지 않은 <code>Leaf Blocks</code>로 나뉩니다.</li></ul><p>그리고 사진에 보이는 것처럼 각 문법에 대한 간략한 규칙을 정리하고, 지나치게 복잡하거나 자주 사용되지 않는 규칙들을 따로 표시하였습니다. 이제 이것들을 이용해서 각 문법들을 구현하고, Container Blocks → Leaf Blocks → Inlines 순서대로 변환해 주면 될 것 같습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>doParse</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>blockQuote</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>emptyLines</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>headers</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>code</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>divideLines</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>codeBlock</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>hr</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>bold</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>italic</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>underline</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>strike</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>link</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=-좀-더-개선해보자>⚒ 좀 더 개선해보자</h1><p>적용 범위가 큰 문법부터 차례대로 적용해 나감으로써 inline문법 안에 block문법이 적용된다거나 하는 문제를 예방하였고, 각 줄을 <code>div</code> 태그로 변환하는 시점을 조절해서 정규표현식의 <code>div</code>가 필요한 부분에만 들어가도록 더 온전한 결과물을 만들 수 있었습니다.</p><p>그런데 <code>codeBlock</code>과 <code>link</code>, <code>image</code>의 URL은 마크다운의 영향을 받지 않아야 하는데 <code>underline</code>이나 <code>bold</code>같은 문법이 적용되고 있습니다. 이를 위해 첫 변환시 placeholder 역할을 하는, 일반적으로 입력할 수 없는 문자로 치환하고, 원본 텍스트를 마지막에 다시 재변환하는 작업을 진행하였습니다. 또 중간에 연속되는 변환 과정을 하나의 pipe 함수로 묶어주면 좋을 것 같네요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>doParse</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>codes</span>: <span class=kt>string</span><span class=p>[]</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>links</span>: <span class=kt>string</span><span class=p>[]</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>imgs</span>: <span class=kt>string</span><span class=p>[]</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>result</span><span class=p>,</span> <span class=nx>codes</span><span class=p>]</span> <span class=o>=</span> <span class=nx>codeBlock</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>result</span><span class=p>,</span> <span class=nx>links</span><span class=p>,</span> <span class=nx>imgs</span><span class=p>]</span> <span class=o>=</span> <span class=nx>link</span><span class=p>(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>pipe</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=nx>blockQuote</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>unorderedList</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>orderedList</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>emptyLines</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>headers</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>code</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>divideLines</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>hr</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>bold</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>italic</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>underline</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>strike</span>
</span></span><span class=line><span class=cl>  <span class=p>)(</span><span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>recoverPlaceholders</span><span class=p>(</span><span class=nx>result</span><span class=p>,</span> <span class=nx>codes</span><span class=p>,</span> <span class=s2>&#34;\u235e&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>recoverPlaceholders</span><span class=p>(</span><span class=nx>result</span><span class=p>,</span> <span class=nx>links</span><span class=p>,</span> <span class=s2>&#34;\u235f&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>result</span> <span class=o>=</span> <span class=nx>recoverPlaceholders</span><span class=p>(</span><span class=nx>result</span><span class=p>,</span> <span class=nx>imgs</span><span class=p>,</span> <span class=s2>&#34;\u2360&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=-마치며>🔥 마치며</h1><p><img src=/images/posts/2022/12/making-editor-markdown/md_editor_3_05.gif alt=dhkstjd.gif></p><p>처음에 시작할 때에는 무척 거창하게 시작했는데, 생각보다 투박한 결과물이 나왔습니다. 그래도 뭔가 라이브러리의 힘을 빌리지 않고 이 정도를 구현했다는 데 의의를 두고 싶습니다. 특히 에디터같은 부분은 찾아 볼수록 더 많은 기능이 필요하다는 것을 알게 되어서 아쉬움이 더 많이 생겼습니다. 나중에 시간이 되면 undo 기능도 구현하고, 이것저것 더 개선해 보고 싶네요.</p><p>지금까지 <strong>모헤윰</strong>의 마크다운 에디터를 구현한 과정이였습니다.</p><h1 id=-refs>📖 Refs.</h1><p><a href=https://github.github.com/gfm/>GitHub Flavored Markdown Spec</a><br><a href=https://github.com/markedjs/marked/tree/master/src>markedjs/marked</a></p></div></article><article id=giscus-wrapper></article><script>const giscus_light="https://cdn.jsdelivr.net/gh/prayinforrain/prayinforrain.github.io@main/static/styles/_giscus.css",giscus_dark="https://cdn.jsdelivr.net/gh/prayinforrain/prayinforrain.github.io@main/static/styles/_giscus_dark.css";let giscusTheme=localStorage.getItem("theme");giscusTheme||(giscusTheme="light",window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(defaultTheme="dark"));let giscusAttributes={src:"https://giscus.app/client.js","data-repo":"prayinforrain/prayinforrain.github.io","data-repo-id":"R_kgDOItUJmA","data-category":"Announcements","data-category-id":"DIC_kwDOItUJmM4CTXa0","data-mapping":"pathname","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":giscusTheme==="dark"?giscus_dark:giscus_light,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([e,t])=>giscusScript.setAttribute(e,t)),document.getElementById("giscus-wrapper").appendChild(giscusScript)</script></main></div><footer class=footer><span class=footer_item></span>&nbsp;<div class=footer_social-icons><a href=https://github.com/prayinforrain target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=mailto:prayinforrain@naver.com target=_blank rel="noopener noreferrer me" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><small class=footer_copyright>© 2023 PrayinforRain.
Powered by <a href=https://github.com/hugo-sid/hugo-blog-awesome target=_blank rel="noreferrer noopener">Hugo blog awesome</a>
theme on
<a href=https://gohugo.io target=_blank rel="noreferrer noopener">Hugo</a>.</small></footer><script src=https://prayinforrain.github.io/js/themeSwitchnMenu.min.2a3c1435c7eb437003947a7d137c5976f629ecfbaad5fa4ed295bbaa16828f02.js></script></body></html>